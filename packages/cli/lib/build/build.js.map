{"version":3,"sources":["../../src/build/build.js"],"names":["cli","argv","logger","log","process","cwd","env","Object","assign","CMD","NODE_ENV","BABEL_ENV","context","root","easyConfig","catch","err","exit"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;eAIe,CAACA,GAAD,EAAMC,IAAN,KAAe;AAC5BC,mBAAOC,GAAP,CAAW,iBAAX;;AAEA,yBAAQC,OAAO,CAACC,GAAR,EAAR,EAH4B,CAI5B;;AACA,QAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcJ,OAAO,CAACE,GAAtB,EAA2B;AACrCG,IAAAA,GAAG,EAAE,OADgC;AAErCC,IAAAA,QAAQ,EAAE,YAF2B;AAGrCC,IAAAA,SAAS,EAAE;AAH0B,GAA3B,CAAZ;AAMA;AACA,yBAAM;AACJL,IAAAA,GAAG,EAAEA,GADD;AAEJL,IAAAA,IAAI,EAAEA,IAFF;AAGJW,IAAAA,OAAO,EAAEZ,GAAG,CAACa,IAHT;AAIJC,IAAAA,UAAU,EAAE,6BAAcd,GAAG,CAACa,IAAlB;AAJR,GAAN,EAKGE,KALH,CAKUC,GAAD,IAAS;AAChBd,qBAAOC,GAAP,CAAWa,GAAX;;AACAZ,IAAAA,OAAO,CAACa,IAAR,CAAa,CAAb;AACD,GARD;AASD,C","sourcesContent":["import { build } from '@chrissong/cli-webpack';\nimport { loadEnv, getEasyConfig, logger } from '@chrissong/cli-utils';\n\n/**\n * ä½¿ç”¨å­è¿›ç¨‹æ˜¯ä¸ºäº†ä¿®æ­£webpackæ‰§è¡Œçš„æ—¶å€™çš„process.cwd\n * å¦‚æžœä¸æ­£ç¡®åˆ™å¯èƒ½å‡ºçŽ°æ‰“åŒ…é”™è¯¯\n */\nexport default (cli, argv) => {\n  logger.log('ðŸš€  æ­£åœ¨æ‰“åŒ…,è¯·ç¨ç­‰...');\n\n  loadEnv(process.cwd());\n  // å…ˆè®¾ç½®çŽ¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨\n  const env = Object.assign(process.env, {\n    CMD: 'build',\n    NODE_ENV: 'production',\n    BABEL_ENV: 'production'\n  });\n\n  debugger\n  build({\n    env: env,\n    argv: argv,\n    context: cli.root,\n    easyConfig: getEasyConfig(cli.root)\n  }).catch((err) => {\n    logger.log(err);\n    process.exit(1);\n  });\n};\n"],"file":"build.js"}