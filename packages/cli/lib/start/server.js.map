{"version":3,"sources":["../../src/start/server.js"],"names":["server","process","cwd","env","Object","assign","CMD","NODE_ENV","BABEL_ENV","argv","slice","context","easyConfig","catch","err","logger","log","send"],"mappings":";;AAAA;;AACA;;AAEA;AACA,MAAMA,MAAM,GAAG,MAAM;AACnB;AACA,yBAAQC,OAAO,CAACC,GAAR,EAAR;AAEA,QAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcJ,OAAO,CAACE,GAAtB,EAA2B;AACrCG,IAAAA,GAAG,EAAE,OADgC;AAErCC,IAAAA,QAAQ,EAAE,aAF2B;AAGrCC,IAAAA,SAAS,EAAE;AAH0B,GAA3B,CAAZ;AAMA;AACA,yBAAM;AACJL,IAAAA,GAAG,EAAEA,GADD;AAEJM,IAAAA,IAAI,EAAER,OAAO,CAACQ,IAAR,CAAaC,KAAb,CAAmB,CAAnB,CAFF;AAGJC,IAAAA,OAAO,EAAEV,OAAO,CAACC,GAAR,EAHL;AAIJU,IAAAA,UAAU,EAAE,6BAAcX,OAAO,CAACC,GAAR,EAAd;AAJR,GAAN,EAKGW,KALH,CAKUC,GAAD,IAAS;AAChBC,qBAAOC,GAAP,CAAWF,GAAX;;AACAb,IAAAA,OAAO,CAACgB,IAAR,CAAa,iBAAb;AACD,GARD;AASD,CApBD;;AAsBAjB,MAAM","sourcesContent":["import { start } from '@chrissong/cli-webpack';\r\nimport { logger, loadEnv, getEasyConfig } from '@chrissong/cli-utils';\r\n\r\n// 先设置环境变量，以便在配置文件中使用\r\nconst server = () => {\r\n  //  加载环境变量\r\n  loadEnv(process.cwd());\r\n\r\n  const env = Object.assign(process.env, {\r\n    CMD: 'start',\r\n    NODE_ENV: 'development',\r\n    BABEL_ENV: 'development'\r\n  });\r\n\r\n  debugger;\r\n  start({\r\n    env: env,\r\n    argv: process.argv.slice(2),\r\n    context: process.cwd(),\r\n    easyConfig: getEasyConfig(process.cwd())\r\n  }).catch((err) => {\r\n    logger.log(err);\r\n    process.send('EXIT_WITH_ERROR');\r\n  });\r\n};\r\n\r\nserver();\r\n"],"file":"server.js"}