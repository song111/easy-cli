{"version":3,"sources":["../../src/init/selectTemplate.js"],"names":["templateRepo","templateBranch","base","getTemplateQues","answers","inquirer","prompt","name","message","type","when","isHasState","choices","getTemplateBranchByParams","params","isHasTs","stateType"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEO,MAAMA,YAAY,GAAG,8CAArB;;AAEA,MAAMC,cAAc,GAAG;AAC5BC,EAAAA,IAAI,EAAE,MADsB;AAE5B,aAAW,SAFiB;AAG5B,mBAAiB,eAHW;AAI5B,gBAAc,YAJc;AAK5B,eAAa,WALe;AAM5B,kBAAgB;AANY,CAAvB,C,CASP;;;;AACO,MAAMC,eAAe,GAAG,YAAY;AACzC,QAAMC,OAAO,GAAG,MAAMC,kBAASC,MAAT,CAAgB,CACpC;AACEC,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,OAAO,EAAE,iBAFX;AAGEC,IAAAA,IAAI,EAAE;AAHR,GADoC,EAMpC;AACEF,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,OAAO,EAAE,aAFX;AAGEC,IAAAA,IAAI,EAAE;AAHR,GANoC,EAWpC;AACEF,IAAAA,IAAI,EAAE,WADR;AAEEG,IAAAA,IAAI,EAAGN,OAAD,IAAa;AACjB,aAAOA,OAAO,CAACO,UAAf;AACD,KAJH;AAKEH,IAAAA,OAAO,EAAE,WALX;AAMEC,IAAAA,IAAI,EAAE,MANR;AAOEG,IAAAA,OAAO,EAAE,CAAC,OAAD,EAAU,MAAV;AAPX,GAXoC,EAoBpC;AACEL,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,OAAO,EAAE,SAFX;AAGEC,IAAAA,IAAI,EAAE,MAHR;AAIEG,IAAAA,OAAO,EAAE,CAAC,MAAD,EAAS,KAAT;AAJX,GApBoC,CAAhB,CAAtB;AA4BA,SAAOR,OAAP;AACD,CA9BM;AAgCP;;;;;;;;;;AAOO,MAAMS,yBAAyB,GAAIC,MAAD,IAAY;AACnD,QAAM;AAAEC,IAAAA,OAAF;AAAWJ,IAAAA,UAAX;AAAuBK,IAAAA;AAAvB,MAAqCF,MAA3C;;AACA,MAAIC,OAAJ,EAAa;AACX,WAAOJ,UAAU,GAAGV,cAAc,CAAE,QAAOe,SAAU,KAAnB,CAAjB,GAA4Cf,cAAc,CAAE,SAAF,CAA3E;AACD,GAFD,MAEO;AACL,WAAOU,UAAU,GAAGV,cAAc,CAAE,QAAOe,SAAU,EAAnB,CAAjB,GAAyCf,cAAc,CAAE,MAAF,CAAxE;AACD;AACF,CAPM","sourcesContent":["import inquirer from 'inquirer';\nimport _ from 'lodash';\n\nexport const templateRepo = 'https://github.com/song111/easy-template.git';\n\nexport const templateBranch = {\n  base: 'base',\n  'base-ts': 'base-ts',\n  'base-redux-ts': 'base-redux-ts',\n  'base-redux': 'base-redux',\n  'base-mobx': 'base-mobx',\n  'base-mobx-ts': 'base-mobx-ts'\n};\n\n// 获取输入参数\nexport const getTemplateQues = async () => {\n  const answers = await inquirer.prompt([\n    {\n      name: 'isHasTs',\n      message: '是否引入Typescript？',\n      type: 'confirm'\n    },\n    {\n      name: 'isHasState',\n      message: '是否使用状态管理容器？',\n      type: 'confirm'\n    },\n    {\n      name: 'stateType',\n      when: (answers) => {\n        return answers.isHasState;\n      },\n      message: '请选择状态管理插件',\n      type: 'list',\n      choices: ['redux', 'mobx']\n    },\n    {\n      name: 'pkgManager',\n      message: '选择安装包管理',\n      type: 'list',\n      choices: ['yarn', 'npm']\n    }\n  ]);\n\n  return answers;\n};\n\n/** 获取模版分支\n * @param{object} params\n *   @param{boolean}  isHasTs 是否用typescript\n *   @param{boolean}  isHasState   是否用状态管理器\n *   @param{string}   stateType     状态管理器\n * */\n\nexport const getTemplateBranchByParams = (params) => {\n  const { isHasTs, isHasState, stateType } = params;\n  if (isHasTs) {\n    return isHasState ? templateBranch[`base-${stateType}-ts`] : templateBranch[`base-ts`];\n  } else {\n    return isHasState ? templateBranch[`base-${stateType}`] : templateBranch[`base`];\n  }\n};\n"],"file":"selectTemplate.js"}