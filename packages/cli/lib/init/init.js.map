{"version":3,"sources":["../../src/init/init.js"],"names":["init","cli","argv","projectName","path","resolve","cwd","name","fs","existSync","isOverWrite","inquirer","prompt","message","chalk","cyan","type","default","logger","log","targetDir","remove"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,eAAeA,IAAf,CAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AAC7B,QAAMC,WAAW,GAAGC,cAAKC,OAAL,CAAaJ,GAAG,CAACK,GAAjB,EAAsBJ,IAAI,CAACK,IAA3B,CAApB,CAD6B,CAG7B;;;AACA,MAAIC,aAAGC,SAAH,CAAaN,WAAb,CAAJ,EAA+B;AAC7B,UAAM;AAAEO,MAAAA;AAAF,QAAkB,MAAMC,kBAASC,MAAT,CAAgB,CAC5C;AACEL,MAAAA,IAAI,EAAE,aADR;AAEEM,MAAAA,OAAO,EAAG,WAAUC,gBAAMC,IAAN,CAAWb,IAAI,CAACK,IAAhB,CAAsB,QAF5C;AAGES,MAAAA,IAAI,EAAE,SAHR;AAIEC,MAAAA,OAAO,EAAE;AAJX,KAD4C,CAAhB,CAA9B;;AAQA,QAAIP,WAAJ,EAAiB;AACfQ,MAAAA,MAAM,CAACC,GAAP,CAAY,UAASL,gBAAMC,IAAN,CAAWK,SAAX,CAAsB,KAA3C;AACA,YAAMZ,aAAGa,MAAH,CAAUD,SAAV,CAAN;AACD;AACF,GAjB4B,CAmB7B;;AACD;;eAEcpB,I","sourcesContent":["import path from 'path';\r\nimport inquirer from 'inquirer';\r\nimport which from 'which';\r\nimport { fs, chalk } from '@chrissong/cli-utils';\r\n\r\nasync function init(cli, argv) {\r\n  const projectName = path.resolve(cli.cwd, argv.name);\r\n\r\n  // 项目重复验证\r\n  if (fs.existSync(projectName)) {\r\n    const { isOverWrite } = await inquirer.prompt([\r\n      {\r\n        name: 'isOverWrite',\r\n        message: `当前文件夹已存在${chalk.cyan(argv.name)},是否覆盖?`,\r\n        type: 'confirm',\r\n        default: true\r\n      }\r\n    ]);\r\n    if (isOverWrite) {\r\n      logger.log(`\\n删除目录 ${chalk.cyan(targetDir)}...`);\r\n      await fs.remove(targetDir);\r\n    }\r\n  }\r\n\r\n  // 创建本地文件模板\r\n}\r\n\r\nexport default init;\r\n"],"file":"init.js"}