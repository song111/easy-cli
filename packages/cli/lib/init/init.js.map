{"version":3,"sources":["../../src/init/init.js"],"names":["init","cli","argv","projectName","path","resolve","cwd","name","fs","existSync","isOverWrite","inquirer","prompt","message","chalk","cyan","type","default","logger","log","targetDir","remove"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,eAAeA,IAAf,CAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AAE7B,QAAMC,WAAW,GAAGC,cAAKC,OAAL,CAAaJ,GAAG,CAACK,GAAjB,EAAsBJ,IAAI,CAACK,IAA3B,CAApB,CAF6B,CAI7B;;;AACA,MAAIC,aAAGC,SAAH,CAAaN,WAAb,CAAJ,EAA+B;AAC7B,UAAM;AAAEO,MAAAA;AAAF,QAAkB,MAAMC,kBAASC,MAAT,CAAgB,CAC5C;AACEL,MAAAA,IAAI,EAAE,aADR;AAEEM,MAAAA,OAAO,EAAG,WAAUC,gBAAMC,IAAN,CAAWb,IAAI,CAACK,IAAhB,CAAsB,QAF5C;AAGES,MAAAA,IAAI,EAAE,SAHR;AAIEC,MAAAA,OAAO,EAAE;AAJX,KAD4C,CAAhB,CAA9B;;AAQA,QAAIP,WAAJ,EAAiB;AACfQ,MAAAA,MAAM,CAACC,GAAP,CAAY,UAASL,gBAAMC,IAAN,CAAWK,SAAX,CAAsB,KAA3C;AACA,YAAMZ,aAAGa,MAAH,CAAUD,SAAV,CAAN;AACD;AACF;AACF;;eAEcpB,I","sourcesContent":["import path from 'path';\nimport inquirer from 'inquirer';\nimport which from 'which';\nimport { fs, chalk } from '@chrissong/cli-utils';\n\nasync function init(cli, argv) {\n\n  const projectName = path.resolve(cli.cwd, argv.name);\n\n  // 项目重复验证\n  if (fs.existSync(projectName)) {\n    const { isOverWrite } = await inquirer.prompt([\n      {\n        name: 'isOverWrite',\n        message: `当前文件夹已存在${chalk.cyan(argv.name)},是否覆盖?`,\n        type: 'confirm',\n        default: true\n      }\n    ]);\n    if (isOverWrite) {\n      logger.log(`\\n删除目录 ${chalk.cyan(targetDir)}...`);\n      await fs.remove(targetDir);\n    }\n  }\n}\n\nexport default init;\n"],"file":"init.js"}