{"version":3,"sources":["../src/formatProxy.js"],"names":["formatProxy","proxy","Array","isArray","Object","prototype","hasOwnProperty","call","keys","map","key","context","replace","target"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;AAKe,SAASA,WAAT,CAAsBC,KAAtB,EAA6B;AAC1C;;;;AAIA,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;AACzB,QAAIG,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,KAArC,EAA4C,QAA5C,CAAJ,EAA2D;AACzDA,MAAAA,KAAK,GAAG,CAACA,KAAD,CAAR;AACD,KAFD,MAEO;AACLA,MAAAA,KAAK,GAAGG,MAAM,CAACI,IAAP,CAAYP,KAAZ,EAAmBQ,GAAnB,CAAuB,UAAAC,GAAG,EAAI;AACpC;AACA,YAAMC,OAAO,GAAGD,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,IAApB,EAA0BA,OAA1B,CAAkC,OAAlC,EAA2C,EAA3C,CAAhB;;AAEA,YAAI,OAAOX,KAAK,CAACS,GAAD,CAAZ,KAAsB,QAA1B,EAAoC;AAClC,iBAAO;AACLC,YAAAA,OAAO,EAAPA,OADK;AAELE,YAAAA,MAAM,EAAEZ,KAAK,CAACS,GAAD;AAFR,WAAP;AAID,SALD,MAKO;AACL,iDACKT,KAAK,CAACS,GAAD,CADV;AAEEC,YAAAA,OAAO,EAAPA;AAFF;AAID;AACF,OAfO,CAAR;AAgBD;AACF;;AACD,SAAOV,KAAP;AACD","sourcesContent":["/**\n * 格式化webpack代理配置\n * @param {Array|Object} proxy\n * @return {Array}\n */\nexport default function formatProxy (proxy) {\n  /**\n   * webpack-dev-server源码proxy格式化方式\n   * https://github.com/webpack/webpack-dev-server/blob/master/lib/Server.js#L228-L254\n   */\n  if (!Array.isArray(proxy)) {\n    if (Object.prototype.hasOwnProperty.call(proxy, 'target')) {\n      proxy = [proxy]\n    } else {\n      proxy = Object.keys(proxy).map(key => {\n        // For backwards compatibility reasons.\n        const context = key.replace(/^\\*$/, '**').replace(/\\/\\*$/, '')\n\n        if (typeof proxy[key] === 'string') {\n          return {\n            context,\n            target: proxy[key]\n          }\n        } else {\n          return {\n            ...proxy[key],\n            context\n          }\n        }\n      })\n    }\n  }\n  return proxy\n}\n"],"file":"formatProxy.js"}