{"version":3,"sources":["../src/build.js"],"names":["start","options","api","Api","config","resolveWebpackConfig","Promise","resolve","reject","compiler","server","WebpackDevServer","devServer","listen","port","host","err","argv","open","easyConfig","baseURL"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAACC,OAAD,EAAa;AACzB,MAAMC,GAAG,GAAG,IAAIC,eAAJ,CAAQ,YAAR,EAAsBF,OAAtB,CAAZ;AACA,MAAMG,MAAM,GAAGF,GAAG,CAACG,oBAAJ,EAAf;AAEA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMC,QAAQ,GAAG,yBAAQL,MAAR,CAAjB;AACA,QAAMM,MAAM,GAAG,IAAIC,4BAAJ,CAAqBF,QAArB,EAA+BL,MAAM,CAACQ,SAAtC,CAAf;AACAF,IAAAA,MAAM,CAACG,MAAP,CAAcT,MAAM,CAACQ,SAAP,CAAiBE,IAA/B,EAAqCV,MAAM,CAACQ,SAAP,CAAiBG,IAAtD,EAA4D,UAACC,GAAD,EAAS;AACnE,UAAIA,GAAJ,EAAS,OAAOR,MAAM,CAACQ,GAAD,CAAb;AACTT,MAAAA,OAAO;AACP,UAAIL,GAAG,CAACe,IAAJ,CAASC,IAAb,EAAmB,+CAAyBd,MAAM,CAACQ,SAAP,CAAiBE,IAA1C,cAAkDZ,GAAG,CAACiB,UAAJ,CAAeC,OAAjE;AACpB,KAJD;AAKD,GARM,CAAP;AASD,CAbD;;eAeepB,K","sourcesContent":["import Api from './api';\r\nimport webpack from 'webpack';\r\nimport WebpackDevServer from 'webpack-dev-server';\r\nimport { open } from '@chrissong/cli-utils';\r\n\r\nconst start = (options) => {\r\n  const api = new Api('production', options);\r\n  const config = api.resolveWebpackConfig();\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const compiler = webpack(config);\r\n    const server = new WebpackDevServer(compiler, config.devServer);\r\n    server.listen(config.devServer.port, config.devServer.host, (err) => {\r\n      if (err) return reject(err);\r\n      resolve();\r\n      if (api.argv.open) open(`http://localhost:${config.devServer.port}/${api.easyConfig.baseURL}`);\r\n    });\r\n  });\r\n};\r\n\r\nexport default start;\r\n"],"file":"build.js"}