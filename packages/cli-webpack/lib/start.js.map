{"version":3,"sources":["../src/start.js"],"names":["start","options","api","Api","resolveWebpackConfig","config","Promise","resolve","reject","compiler","server","WebpackDevServer","devServer","listen","port","host","err","argv","open","easyConfig","baseURL"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,KAAK;AAAA,2FAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACNC,YAAAA,GADM,GACA,IAAIC,eAAJ,CAAQ,aAAR,EAAuBF,OAAvB,CADA;AAAA;AAAA,mBAESC,GAAG,CAACE,oBAAJ,EAFT;;AAAA;AAENC,YAAAA,MAFM;AAAA,6CAIL,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,kBAAMC,QAAQ,GAAG,yBAAQJ,MAAR,CAAjB;AACA;AACA,kBAAMK,MAAM,GAAG,IAAIC,4BAAJ,CAAqBF,QAArB,EAA+BJ,MAAM,CAACO,SAAtC,CAAf;AAEAF,cAAAA,MAAM,CAACG,MAAP,CAAcR,MAAM,CAACO,SAAP,CAAiBE,IAA/B,EAAqCT,MAAM,CAACO,SAAP,CAAiBG,IAAtD,EAA4D,UAACC,GAAD,EAAS;AACnE,oBAAIA,GAAJ,EAAS,OAAOR,MAAM,CAACQ,GAAD,CAAb;AACTT,gBAAAA,OAAO;AACP,oBAAIL,GAAG,CAACe,IAAJ,CAASC,IAAb,EAAmB,+CAAyBb,MAAM,CAACO,SAAP,CAAiBE,IAA1C,cAAkDZ,GAAG,CAACiB,UAAJ,CAAeC,OAAjE;AACpB,eAJD;AAKD,aAVM,CAJK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALpB,KAAK;AAAA;AAAA;AAAA,GAAX;;eAiBeA,K","sourcesContent":["import webpack from 'webpack'\nimport WebpackDevServer from 'webpack-dev-server'\nimport { open } from '@chrissong/cli-utils';\nimport Api from './api';\n\nconst start = async (options) => {\n  const api = new Api('development', options);\n  const config = await api.resolveWebpackConfig();\n\n  return new Promise((resolve, reject) => {\n    const compiler = webpack(config);\n    debugger;\n    const server = new WebpackDevServer(compiler, config.devServer);\n\n    server.listen(config.devServer.port, config.devServer.host, (err) => {\n      if (err) return reject(err);\n      resolve();\n      if (api.argv.open) open(`http://localhost:${config.devServer.port}/${api.easyConfig.baseURL}`);\n    });\n  });\n};\n\nexport default start;\n"],"file":"start.js"}