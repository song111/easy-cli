{"version":3,"sources":["../src/start.js"],"names":["start","options","api","Api","resolveWebpackConfig","config","Promise","resolve","reject","compiler","server","WebpackDevServer","devServer","listen","port","host","err","argv","open","easyConfig","baseURL"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,KAAK;AAAA,2FAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACNC,YAAAA,GADM,GACA,IAAIC,eAAJ,CAAQ,aAAR,EAAuBF,OAAvB,CADA;AAAA;AAAA,mBAESC,GAAG,CAACE,oBAAJ,EAFT;;AAAA;AAENC,YAAAA,MAFM;AAAA,6CAIL,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,kBAAMC,QAAQ,GAAG,yBAAQJ,MAAR,CAAjB;AACA,kBAAMK,MAAM,GAAG,IAAIC,4BAAJ,CAAqBF,QAArB,EAA+BJ,MAAM,CAACO,SAAtC,CAAf;AACA;AACAF,cAAAA,MAAM,CAACG,MAAP,CAAcR,MAAM,CAACO,SAAP,CAAiBE,IAA/B,EAAqCT,MAAM,CAACO,SAAP,CAAiBG,IAAtD,EAA4D,UAACC,GAAD,EAAS;AACnE,oBAAIA,GAAJ,EAAS,OAAOR,MAAM,CAACQ,GAAD,CAAb;AACTT,gBAAAA,OAAO;AACP,oBAAIL,GAAG,CAACe,IAAJ,CAASC,IAAb,EAAmB,+CAAyBb,MAAM,CAACO,SAAP,CAAiBE,IAA1C,cAAkDZ,GAAG,CAACiB,UAAJ,CAAeC,OAAjE;AACpB,eAJD;AAKD,aATM,CAJK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALpB,KAAK;AAAA;AAAA;AAAA,GAAX;;eAgBeA,K","sourcesContent":["import Api from './api';\r\nimport webpack from 'webpack';\r\nimport WebpackDevServer from 'webpack-dev-server';\r\nimport { open } from '@chrissong/cli-utils';\r\n\r\nconst start = async (options) => {\r\n  const api = new Api('development', options);\r\n  const config = await api.resolveWebpackConfig();\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const compiler = webpack(config);\r\n    const server = new WebpackDevServer(compiler, config.devServer);\r\n    debugger;\r\n    server.listen(config.devServer.port, config.devServer.host, (err) => {\r\n      if (err) return reject(err);\r\n      resolve();\r\n      if (api.argv.open) open(`http://localhost:${config.devServer.port}/${api.easyConfig.baseURL}`);\r\n    });\r\n  });\r\n};\r\n\r\nexport default start;\r\n"],"file":"start.js"}